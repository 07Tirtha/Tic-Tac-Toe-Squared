/* File: multiplayer.css */
:root {
  --bg: #0f0f10;
  --panel: #151515;
  --muted-line: rgba(255,255,255,0.25);
  --line: rgba(255,255,255,0.6);
  --big-line: rgba(255,255,255,0.6);
  --x-color: #00e6ff;
  --o-color: #ff8c00;
  --accent: rgba(255,255,255,1);
  --board-thickness: 4px;
  --cell-thickness: 1.2px;
  --size-max: 640px;
  --cell-hover: rgba(255,255,255,0.04);
}

/* Reset */
* { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  height: 100%;
  background: var(--bg);
  color: #fff;
  font-family: Inter, system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
}

.app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 18px;
}

/* player row (title removed) */
.player-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 14px;
  font-weight: 700;
  color: #dfe8ea;
}
/* make the turn X/O bigger */
.player {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:38px;
  height:38px;
  border-radius:8px;
  padding:4px 10px;
  font-weight:900;
  font-size:2rem; /* bigger as requested */
}
.player-x { color: var(--x-color); background: rgba(0,230,255,0.04); }
.player-o { color: var(--o-color); background: rgba(255,140,0,0.04); }

/* Big board (3x3 of small boards) */
.board {
  --size: min(92vmin, var(--size-max));
  width: var(--size);
  height: var(--size);
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, 1fr);
  gap: 10px;
  padding: 8px;
  touch-action: manipulation;
  outline: none;
}

/* Small board */
.small-board {
  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.005));
  border-radius: 12px;
  border: var(--board-thickness) solid var(--big-line);
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(3, 1fr);
  overflow: hidden;
  transition: transform 160ms ease, filter 160ms ease, box-shadow 160ms ease, opacity 140ms ease;
  transform: scale(0.98);
  filter: brightness(0.75) saturate(0.95);
}

/* available boards reflect current player color via board[data-player] */
.board[data-player="X"] .small-board.available {
  transform: scale(1.02);
  filter: brightness(1.05);
  box-shadow: 0 8px 22px rgba(0,0,0,0.55), 0 0 14px rgba(0,230,255,0.06);
}
.board[data-player="O"] .small-board.available {
  transform: scale(1.02);
  filter: brightness(1.05);
  box-shadow: 0 8px 22px rgba(0,0,0,0.55), 0 0 14px rgba(255,140,0,0.06);
}
.small-board.available.initial { box-shadow: 0 6px 18px rgba(0,0,0,0.5); }
.small-board.inactive { opacity: 0.45; pointer-events: none; transform: scale(0.98); box-shadow: none; }

.small-board.won { position: relative; }
.small-board.won::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.12));
  border-radius: 12px;
  pointer-events: none;
}

/* cell */
.cell {
  display: flex;
  align-items: center;
  justify-content: center;
  user-select: none;
  font-weight: 500;
  font-size: clamp(1.0rem, 5vmin, 2.2rem);
  border: var(--cell-thickness) solid var(--line);
  color: #fff;
  background: transparent;
  cursor: pointer;
  transition: transform 90ms ease, background 140ms ease;
  touch-action: manipulation;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}
.cell:hover { background: var(--cell-hover); }
.cell:active { transform: scale(0.98); }
.cell.taken { pointer-events: none; opacity: 0.95; }

/* X and O color */
.cell.x { color: var(--x-color); text-shadow: 0 6px 20px rgba(0,230,255,0.06); }
.cell.o { color: var(--o-color); text-shadow: 0 6px 20px rgba(255,140,0,0.06); }

/* latest move glow â€” fixed */
.cell.latest.x {
  color: var(--x-color);
  font-weight: 900;
  opacity: 1;
  brightness: 150%;
  text-shadow:
    0 0 6px rgba(0, 230, 255, 1),
    0 0 14px rgba(0, 230, 255, 0.9),
    0 0 24px rgba(0, 230, 255, 0.7);
}

.cell.latest.o {
  color: var(--o-color);
  font-weight: 900;
  opacity: 1;
  brightness: 150%;
  text-shadow:
    0 0 6px rgba(255, 140, 0, 1),
    0 0 14px rgba(255, 140, 0, 0.9),
    0 0 24px rgba(255, 140, 0, 0.7);
}

/* keyboard focus */
.cell:focus { box-shadow: 0 0 0 3px rgba(255,255,255,0.03); }

/* modal */
.modal {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.6);
  z-index: 9999;
}
.modal.open { display: flex; }
.modal[aria-hidden="true"] { pointer-events: none; }
.modal[aria-hidden="false"] { pointer-events: auto; }

.modal-content {
  background: var(--panel);
  padding: 18px 20px;
  border-radius: 12px;
  min-width: 260px;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0,0,0,0.6);
  animation: pop 0.24s ease;
}
.modal-content p { font-size:1.15rem; font-weight:700; margin-bottom:12px; color:#fff; }
.modal-actions { display:flex; justify-content:center; gap:10px; }
.modal-actions button {
  padding:8px 14px; border-radius:8px; border:none; cursor:pointer; font-weight:700;
  background: linear-gradient(90deg,var(--x-color),var(--o-color)); color:#031313;
}

/* animations */
@keyframes pop { from{opacity:0; transform:scale(0.96)} to{opacity:1; transform:scale(1)} }

/* responsive small tweaks */
@media (max-width:420px) {
  .board { --size: min(92vmin, 360px); }
  .player { font-size: 1.05rem; min-width: 30px; height:30px; }
}